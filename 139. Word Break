class Solution:
    def wordBreak(self, s: str, wordDict: List[str]) -> bool:
        
        
        #s = 'applepenapple'
        #wordDict = ['apple', 'pen']

        dp = [False] * (len(s)+1)
        dp[len(s)] = True

        #print(dp, len(s))

        for i in range(len(s)-1, -1, -1):
            for w in wordDict:
                #print(i, w, 'iw', (i+len(w))-len(s), s[i:i+len(w)], w)
                if (i + len(w)) <= len(s) and s[i:i+len(w)] == w:
                    #print('y')
                    dp[i] = dp[i + len(w)]

                if dp[i]:
                    #print(dp, 1)
                    break

        #print(dp, 3)
        return dp[0]
        _________________
        s = 'applepenapple'
wordDict = ['apple', 'pen']

dp = [False] * (len(s)+1)
dp[len(s)] = True

print(dp, len(s))

for i in range(len(s)-1, -1, -1):
    for w in wordDict:
        print(i, w, 'iw', (i+len(w))-len(s), s[i:i+len(w)], w)
        if (i + len(w)) <= len(s) and s[i:i+len(w)] == w:
            print('y')
            dp[i] = dp[i + len(w)]
            
        if dp[i]:
            print(dp, 1)
            break

print(dp, 3)
print(dp[0], 'e')

output:
[False, False, False, False, False, False, False, False, False, False, False, False, False, True] 13
12 apple iw 4 e apple
12 pen iw 2 e pen
11 apple iw 3 le apple
11 pen iw 1 le pen
10 apple iw 2 ple apple
10 pen iw 0 ple pen
9 apple iw 1 pple apple
9 pen iw -1 ppl pen
8 apple iw 0 apple apple
y
[False, False, False, False, False, False, False, False, True, False, False, False, False, True] 1
7 apple iw -1 nappl apple
7 pen iw -3 nap pen
6 apple iw -2 enapp apple
6 pen iw -4 ena pen
5 apple iw -3 penap apple
5 pen iw -5 pen pen
y
[False, False, False, False, False, True, False, False, True, False, False, False, False, True] 1
4 apple iw -4 epena apple
4 pen iw -6 epe pen
3 apple iw -5 lepen apple
3 pen iw -7 lep pen
2 apple iw -6 plepe apple
2 pen iw -8 ple pen
1 apple iw -7 pplep apple
1 pen iw -9 ppl pen
0 apple iw -8 apple apple
y
[True, False, False, False, False, True, False, False, True, False, False, False, False, True] 1
[True, False, False, False, False, True, False, False, True, False, False, False, False, True] 3
True e
